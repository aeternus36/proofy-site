<!doctype html>
<html lang="sv">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Production ‚Äì Proofy</title>
  <meta name="description" content="Production: Proofys l√∂pande tj√§nst f√∂r byr√•er. Standardiserad rutin, √•tkomst per organisation och verifieringsnoteringar ‚Äì utan att lagra filinneh√•ll." />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://proofy.se/production.html" />
  <meta name="theme-color" content="#0b1220" />

  <!-- ‚úÖ Synka med √∂vriga sidor s√• UI (inkl. hamburgare) blir identiskt -->
  <link rel="stylesheet" href="/assets/proofy.css?v=2026-01-03a" />
  <link rel="stylesheet" href="/assets/header.css?v=2026-01-03a" />

  <style>
    /* Failsafe ifall grid/tile-stilar √§ndras i proofy.css */
    .grid3{
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
    }
    @media (max-width: 900px){
      .grid3{ grid-template-columns: 1fr; }
    }
    .tile{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      border-radius: 16px;
      padding: 12px 14px;
    }
    .tile b{ display:block; margin-bottom:6px; }

    /* D√∂lj status-pill tills vi faktiskt har n√•got att s√§ga */
    #prodStatus { display:none; }

    /* Minimal a11y-failsafe */
    .sr-only{
      position:absolute !important;
      width:1px !important;
      height:1px !important;
      padding:0 !important;
      margin:-1px !important;
      overflow:hidden !important;
      clip:rect(0,0,0,0) !important;
      white-space:nowrap !important;
      border:0 !important;
    }

    .fieldError{
      margin-top:6px;
      font-size: 12.5px;
      line-height: 1.35;
      color: rgba(255, 170, 170, .95);
      display:none;
    }
    .fieldError[data-show="1"]{ display:block; }

    .fieldHint{
      margin-top:6px;
      font-size: 12.5px;
      line-height: 1.35;
      color: rgba(234,240,255,.76);
    }

    /* Snyggare ‚Äúhero‚Äù utan att byta global stil */
    .heroBox{
      padding:18px;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.03);
    }
    .heroBadges{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:12px;
    }
  </style>

  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Proofy",
    "url":"https://proofy.se/",
    "email":"kontakt@proofy.se"
  }
  </script>
</head>

<body>
<a class="skip" href="#main">Hoppa till inneh√•ll</a>

<header>
  <div class="wrap">
    <div class="nav">
      <a class="brand" href="/" aria-label="Proofy">
        <span class="logo" aria-hidden="true"></span>
        <span>Proofy</span>
      </a>

      <div class="navActions" id="navActionsDesktop">
        <a class="btn" href="/verify.html">Verifiera underlag</a>
        <a class="btn" href="/register.html">Skapa Verifierings-ID</a>
        <a class="btn" href="/pilot.html">Starta pilot</a>
        <a class="btn primary" href="#kontakt">Boka kort demo</a>
      </div>

      <details class="mnav" id="mnav">
        <summary class="mnavSummary" aria-label="√ñppna meny">
          <span class="mnavIcon" aria-hidden="true"></span>
        </summary>

        <nav class="mnavMenu" aria-label="Meny">
          <a class="mnavLink" href="/verify.html">Verifiera underlag</a>
          <a class="mnavLink" href="/register.html">Skapa Verifierings-ID</a>
          <a class="mnavLink" href="/pilot.html">Starta pilot</a>
          <a class="mnavLink mnavLinkPrimary" href="#kontakt">Boka kort demo</a>

          <div class="mnavMeta">
            <a class="mnavLink" href="/security.html">S√§kerhet</a>
            <a class="mnavLink" href="/privacy.html">Integritet</a>
            <a class="mnavLink" href="/terms.html">Villkor</a>
            <a class="mnavLink" href="/cookies.html">Cookies</a>

            <div class="mnavNote">Production ¬∑ revision ¬∑ granskning</div>
            <a class="mnavMail" href="mailto:kontakt@proofy.se">kontakt@proofy.se</a>
          </div>
        </nav>
      </details>
    </div>
  </div>
</header>

<main id="main">
  <div class="wrap">
    <div class="badge">Production ¬∑ professionell anv√§ndning ¬∑ B2B</div>

    <h1 class="pageTitle">Production: l√∂pande Proofy-tj√§nst f√∂r byr√•er</h1>

    <p class="lead">
      N√§r en filversion fastst√§lls i ett √§rende beh√∂ver ni kunna visa ‚Äì i efterhand ‚Äì att samma filversion ligger till grund f√∂r
      bokslut, beslut eller granskning. Production √§r uppl√§gget f√∂r <b>l√∂pande anv√§ndning i byr√•process</b> med tydliga rutiner,
      organisationstillg√•ng och dokumenterbara verifieringsnoteringar.
      <b>Inget filinneh√•ll lagras.</b>
    </p>

    <div class="heroBox" style="margin-top:14px;">
      <div class="heroCtas" style="margin-top:10px;">
        <a class="btn primary" href="#kontakt">Boka kort demo</a>
        <a class="btn soft" href="/pilot.html">Starta pilot (30 dagar)</a>
        <a class="btn" href="/verify.html">Verifiera underlag</a>
        <a class="btn ghost" href="/register.html">Skapa Verifierings-ID</a>
      </div>

      <div class="heroBadges">
        <span class="badge">üîí Inget filinneh√•ll lagras</span>
        <span class="badge">üßæ Verifierings-ID i √§rendet</span>
        <span class="badge">üìå Rutin & dokumentation</span>
      </div>

      <p class="small" style="margin-top:12px; margin-bottom:0;">
        <b>Juridisk avgr√§nsning:</b> Proofy √§r ett tekniskt verifieringsunderlag och ers√§tter inte revision, yrkesm√§ssigt omd√∂me eller juridisk r√•dgivning.
      </p>
    </div>

    <section id="vad" style="margin-top:28px;">
      <h2>Vad Production inneh√•ller</h2>
      <div class="card content">
        <div class="grid3" style="margin-top:12px;">
          <div class="tile">
            <b>Organisationstillg√•ng</b>
            <span class="small">
              √Ötkomst och uppl√§gg f√∂r byr√•n (team, rutiner och kontaktv√§g). Syftet √§r att Proofy ska vara en stabil del av er arbetsprocess.
            </span>
          </div>
          <div class="tile">
            <b>Standardiserad rutin</b>
            <span class="small">
              N√§r registrering ska ske, hur Verifierings-ID sparas i √§rendet och hur verifiering dokumenteras vid kvalitetskontroll eller efterhandsfr√•ga.
            </span>
          </div>
          <div class="tile">
            <b>Dokumenterbart resultat</b>
            <span class="small">
              Verifieringsnotering/rapporttext som kan sparas i arbetsdokument eller granskningsfil. Tydligt ‚Äúmatch / ingen match‚Äù.
            </span>
          </div>
        </div>

        <div class="hr"></div>

        <h3>S√• anv√§nds Proofy i en byr√•process</h3>
        <ol style="margin:10px 0 0; padding-left:18px;">
          <li><b>Fastst√§ll filversion</b> i √§rendet (t.ex. bokslutsunderlag, beslut, avtal).</li>
          <li><b>Skapa Verifierings-ID</b> och spara ID i √§rendet (t.ex. notering/arbetsdokument).</li>
          <li>Vid behov: <b>verifiera</b> och dokumentera resultatet (match/ingen match) samt kontrolltidpunkt.</li>
        </ol>

        <p class="small" style="margin-top:10px; margin-bottom:0;">
          Proofy visar om filversionen √§r densamma. Det s√§ger inget om inneh√•llets saklighet eller l√§mplighet.
        </p>
      </div>
    </section>

    <section id="access" style="margin-top:28px;">
      <h2>√Ötkomst, beh√∂righet och ‚Äúriktig tj√§nst‚Äù</h2>
      <div class="card content">
        <p>
          F√∂r att Production ska fungera som en betalad tj√§nst beh√∂ver Proofy ha ett tydligt ‚Äúkundl√§ge‚Äù d√§r byr√•er f√•r √•tkomst enligt avtal.
          Det kan g√∂ras p√• tv√• s√§tt:
        </p>

        <div class="grid3" style="margin-top:12px;">
          <div class="tile">
            <b>Alternativ A ‚Äì Avtalad √•tkomst (rekommenderat nu)</b>
            <span class="small">
              N√§r ni g√•r vidare efter pilot aktiveras ‚ÄúProduction‚Äù f√∂r byr√•n via avtal/offert.
              Proofy bekr√§ftar uppstart, faktura och supportkontakt. √Ötkomst s√§kras med organisationens uppgifter.
            </span>
          </div>
          <div class="tile">
            <b>Alternativ B ‚Äì Inloggning & licenser</b>
            <span class="small">
              Byr√•n skapar konto och licenser kopplas till organisation och anv√§ndare. L√§mpligt n√§r ni vill skala, m√§ta volym och hantera flera team.
            </span>
          </div>
          <div class="tile">
            <b>Varf√∂r pilot/demo inte r√§cker</b>
            <span class="small">
              Pilot/demonstration √§r tidsbegr√§nsat och saknar normalt de avtalade ramarna (support, rutin, organisationstillg√•ng).
              Production √§r den l√∂pande, avtalade anv√§ndningen.
            </span>
          </div>
        </div>

        <div class="hr"></div>

        <p class="small" style="margin:0;">
          <b>Rekommendation f√∂r ‚Äú5/5‚Äù:</b> K√∂r Alternativ A direkt (enkelt, tydligt B2B), och bygg Alternativ B n√§r ni har 10‚Äì30 betalande byr√•er
          och vet exakt vilka licensniv√•er som beh√∂vs.
        </p>
      </div>
    </section>

    <section id="pris" style="margin-top:28px;">
      <h2>Prisbild (exempel ‚Äì anpassas i offert)</h2>
      <div class="card content">
        <p class="small" style="margin-top:0;">
          F√∂r att upplevas ‚Äúbyr√•-s√§kert‚Äù b√∂r pris alltid vara tydligt, fakturerbart och kopplat till ramar/support.
          Nedan √§r en saklig exempelmodell ‚Äì justera fritt efter er strategi.
        </p>

        <div class="grid3" style="margin-top:12px;">
          <div class="tile">
            <b>Pilot (30 dagar)</b>
            <span class="small"><b>4 900 kr</b> exkl. moms ¬∑ faktura ¬∑ ingen automatisk forts√§ttning.</span>
          </div>
          <div class="tile">
            <b>Production ‚Äì Bas</b>
            <span class="small">Fast m√•nadsavgift f√∂r byr√•n ¬∑ support ¬∑ standardiserad rutin ¬∑ l√∂pande anv√§ndning.</span>
          </div>
          <div class="tile">
            <b>Production ‚Äì Plus</b>
            <span class="small">F√∂r byr√•er med fler team/volym: ut√∂kad support, uppstartsworkshop, rutinkontroller.</span>
          </div>
        </div>

        <div class="hr"></div>

        <p class="small" style="margin:0;">
          <b>Viktigt (B2B):</b> S√§lj inte ‚Äúfunktioner‚Äù ‚Äì s√§lj <b>sp√•rbarhet i efterhand</b>, <b>minskad risk</b> och <b>en standardiserad rutin</b>
          som g√∂r det enkelt att svara p√• fr√•gor l√•ngt senare.
        </p>
      </div>
    </section>

    <section id="onboarding" style="margin-top:28px;">
      <h2>Onboarding-guide (praktisk och byr√•v√§nlig)</h2>
      <div class="card content">
        <div class="grid3" style="margin-top:12px;">
          <div class="tile">
            <b>1) V√§lj ‚Äúvad som fastst√§lls‚Äù</b>
            <span class="small">
              Lista 3‚Äì5 dokumenttyper d√§r efterhandsfr√•gor uppst√•r (t.ex. bokslutsunderlag, avtal, beslut, kundunderlag).
            </span>
          </div>
          <div class="tile">
            <b>2) Best√§m var ID sparas</b>
            <span class="small">
              Enhetlig plats: √§rendenotering, arbetsdokument, revisionsfil eller ‚Äúkontrollrad‚Äù. Viktigt: samma struktur i hela byr√•n.
            </span>
          </div>
          <div class="tile">
            <b>3) Best√§m n√§r ni verifierar</b>
            <span class="small">
              Vid kvalitetskontroll, vid kundfr√•ga och vid efterhandsgranskning. Verifiera bara n√§r det beh√∂vs ‚Äì men dokumentera tydligt.
            </span>
          </div>
        </div>

        <div class="hr"></div>

        <h3>Exempel p√• dokumentationsnotering</h3>
        <p class="small" style="margin:10px 0 6px;">
          Kort, saklig och l√§tt att l√§gga i arbetsdokument:
        </p>
        <pre class="mono" style="white-space:pre-wrap; margin:0;">PROOFY ‚Äì Verifieringsnotering
Verifiering genomf√∂rd: [datum/tid Sverige]
Verifierings-ID: [0x‚Ä¶]
Underlag: [filnamn]
Resultat: [OF√ñR√ÑNDRAT / AVVIKELSE]
Registreringsstatus: [Registrerad / Ej registrerad]</pre>

        <p class="small" style="margin-top:10px; margin-bottom:0;">
          Rekommenderat: spara noteringen i samma plats som √∂vrig √§rendedokumentation, s√• att den √§r sp√•rbar vid senare fr√•ga.
        </p>
      </div>
    </section>

    <section id="faq" style="margin-top:28px;">
      <h2>Vanliga fr√•gor (byr√•, revision, granskning)</h2>
      <div class="card content">
        <details>
          <summary>√Ñr Proofy arkivering, e-signering eller juridiskt bevis?</summary>
          <p class="small" style="margin-top:10px;">
            Nej. Proofy √§r ett tekniskt verifieringsunderlag som visar om en filversion √§r densamma som en tidigare fastst√§lld referens.
            Det ers√§tter inte arkivering, e-signering, revision eller juridisk bed√∂mning.
          </p>
        </details>

        <details style="margin-top:8px;">
          <summary>Hantera ni dokument eller dokumentinneh√•ll?</summary>
          <p class="small" style="margin-top:10px;">
            Proofy lagrar inte filinneh√•ll. Underlaget anv√§nds lokalt i webbl√§saren f√∂r att ta fram Verifierings-ID.
          </p>
        </details>

        <details style="margin-top:8px;">
          <summary>Varf√∂r kan ‚Äúsamma dokument‚Äù ibland ge avvikelse?</summary>
          <p class="small" style="margin-top:10px;">
            Ny export, ny skanning, konvertering eller om-sparning kan inneb√§ra en annan filversion √§ven om det ser likadant ut.
            Proofy j√§mf√∂r filversion ‚Äì inte visuellt inneh√•ll.
          </p>
        </details>

        <details style="margin-top:8px;">
          <summary>Vilka interna kontroller ers√§tter Proofy?</summary>
          <p class="small" style="margin-top:10px;">
            Inga. Proofy √§r ett komplement som underl√§ttar sp√•rbarhet och efterhandskontroll.
            Professionellt omd√∂me och byr√•ns egna rutiner g√§ller alltid.
          </p>
        </details>

        <div class="hr"></div>

        <p class="small" style="margin:0;">
          Relaterade sidor: <a href="/security.html">S√§kerhet</a> ¬∑ <a href="/privacy.html">Integritet</a> ¬∑ <a href="/terms.html">Villkor</a> ¬∑ <a href="/cookies.html">Cookies</a>
        </p>
      </div>
    </section>

    <section id="kontakt" style="margin-top:28px;">
      <h2>Kontakta oss (Production)</h2>
      <div class="card content">
        <p class="lead" style="font-size:16px; margin:0 0 10px;">
          Boka en kort demo (10‚Äì15 min) eller be om offert f√∂r Production. Du f√•r svar inom 1 arbetsdag.
        </p>

        <form class="form" id="prodForm" action="/api/contact" method="POST" novalidate>
          <!-- Honeypot (gammal) -->
          <p style="display:none;">
            <label>Don‚Äôt fill this out: <input name="bot-field" autocomplete="off" tabindex="-1" /></label>
          </p>

          <!-- Honeypot (ny) -->
          <input
            type="text"
            name="company_website"
            tabindex="-1"
            autocomplete="new-password"
            inputmode="none"
            aria-hidden="true"
            value=""
            style="position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden;"
          />

          <!-- Anti-spam tokenf√§lt -->
          <input type="hidden" id="proofy_token" name="proofy_token" value="" />
          <input type="hidden" id="proofy_ts" name="proofy_ts" value="" />

          <div class="formGrid">
            <div>
              <label class="label" for="pname">Namn <span class="req">*</span></label>
              <input id="pname" name="name" type="text" autocomplete="name" required data-required="true" />
              <div id="pname-err" class="fieldError" data-show="0">Fyll i namn.</div>
            </div>
            <div>
              <label class="label" for="pemail">E-post <span class="req">*</span></label>
              <input id="pemail" name="email" type="email" autocomplete="email" required data-required="true" inputmode="email" />
              <div id="pemail-err" class="fieldError" data-show="0">Fyll i en giltig e-postadress.</div>
            </div>
            <div>
              <label class="label" for="pcompany">Byr√• / f√∂retag <span class="req">*</span></label>
              <input id="pcompany" name="company" type="text" autocomplete="organization" required data-required="true" />
              <div id="pcompany-err" class="fieldError" data-show="0">Fyll i byr√•/f√∂retag.</div>
            </div>
            <div>
              <label class="label" for="pvolume">Ungef√§rlig volym</label>
              <input id="pvolume" name="volume" type="text" placeholder="t.ex. 50‚Äì200 underlag/m√•nad" />
              <div class="fieldHint">Valfritt ‚Äì hj√§lper oss att rekommendera uppl√§gg.</div>
            </div>
          </div>

          <div style="margin-top:12px;">
            <label class="label" for="pmsg">Kort scenario <span class="req">*</span></label>
            <textarea
              id="pmsg"
              name="message"
              rows="6"
              required
              data-required="true"
              aria-describedby="pmsgHelp"
              placeholder="Exempel: vilka underlag vill ni kunna styrka i efterhand, n√§r uppst√•r fr√•gan och vem brukar fr√•ga (kund, intern kvalitetskontroll, efterhandsgranskning)?"
            ></textarea>
            <div class="help" id="pmsgHelp">
              Vi behandlar kontaktuppgifter f√∂r att hantera din f√∂rfr√•gan. Inga dokument bifogas via formul√§ret.
              L√§s mer i <a href="/privacy.html">Integritet</a>.
            </div>
            <div id="pmsg-err" class="fieldError" data-show="0">Fyll i en kort beskrivning.</div>
          </div>

          <div class="formActions">
            <button class="btn primary" id="prodSubmitBtn" type="submit">Skicka f√∂rfr√•gan</button>
            <a class="btn" href="/pilot.html">Se pilotuppl√§gg</a>
            <span id="prodStatus" class="pill" style="margin-left:12px;" aria-live="polite" aria-atomic="true" role="status"></span>
          </div>

          <div class="fineprint">
            Genom att skicka formul√§ret behandlar vi dina kontaktuppgifter f√∂r att hantera din f√∂rfr√•gan (demo/offert).
            Vi sparar uppgifterna endast s√• l√§nge det beh√∂vs f√∂r uppf√∂ljning och dokumentation.
            Inga filer eller underlag skickas via formul√§ret.
          </div>
        </form>
      </div>
    </section>

    <p class="meta" style="margin-top:14px;">
      Proofy avg√∂r inte om inneh√•llet √§r korrekt ‚Äì endast om filversionen √§r of√∂r√§ndrad j√§mf√∂rt med referensen.
    </p>
  </div>
</main>

<footer>
  <div class="wrap">
    <div class="foot">
      <div>
        <div style="color: rgba(234,240,255,.86); font-weight:800;">Proofy</div>
        <div class="small">¬© 2026 Proofy. Alla r√§ttigheter f√∂rbeh√•llna.</div>
        <div class="small" style="margin-top:8px; max-width:92ch;">
          Proofy tillhandah√•ller teknisk tidsst√§mpling och verifiering av filer.
          Tj√§nsten utg√∂r inte juridisk r√•dgivning och avg√∂r inte filers eller underlags r√§ttsliga giltighet.
        </div>
      </div>
      <div class="links">
        <a href="/security.html">S√§kerhet</a>
        <a href="/privacy.html">Integritet</a>
        <a href="/terms.html">Villkor</a>
        <a href="/cookies.html">Cookies</a>
        <a href="/#kontakt">Kontakt</a>
      </div>
    </div>
  </div>
</footer>

<script>
(() => {
  const form = document.getElementById("prodForm");
  if (!form) return;

  const statusEl = document.getElementById("prodStatus");
  const submitBtn = document.getElementById("prodSubmitBtn");

  const fields = {
    name: document.getElementById("pname"),
    email: document.getElementById("pemail"),
    company: document.getElementById("pcompany"),
    message: document.getElementById("pmsg")
  };
  const errors = {
    name: document.getElementById("pname-err"),
    email: document.getElementById("pemail-err"),
    company: document.getElementById("pcompany-err"),
    message: document.getElementById("pmsg-err")
  };

  function setStatus(text, tone){
    if (!statusEl) return;
    statusEl.style.display = "inline-block";
    statusEl.textContent = text;

    statusEl.style.fontWeight = "800";
    statusEl.style.border = "1px solid rgba(255,255,255,.14)";
    statusEl.style.background = "rgba(255,255,255,.06)";
    statusEl.style.color = "rgba(234,240,255,.92)";

    if (tone === "ok"){
      statusEl.style.background = "rgba(50, 205, 50, .10)";
      statusEl.style.border = "1px solid rgba(50, 205, 50, .25)";
    } else if (tone === "err"){
      statusEl.style.background = "rgba(255, 80, 80, .10)";
      statusEl.style.border = "1px solid rgba(255, 80, 80, .25)";
    } else if (tone === "wait"){
      statusEl.style.background = "rgba(120, 180, 255, .10)";
      statusEl.style.border = "1px solid rgba(120, 180, 255, .25)";
    }
  }

  function disableForm(disabled){
    if (submitBtn) submitBtn.disabled = disabled;
    const all = form.querySelectorAll("input, textarea, select, button");
    all.forEach(el => {
      if (el === submitBtn) return;
      el.disabled = disabled;
    });
  }

  function clearFieldHints(){
    const hinted = form.querySelectorAll("[data-proofy-hint='1']");
    hinted.forEach(el => {
      el.style.outline = "";
      el.style.outlineOffset = "";
      el.setAttribute("data-proofy-hint", "0");
      el.removeAttribute("aria-invalid");
    });
    Object.values(errors).forEach(errEl => {
      if (!errEl) return;
      errEl.setAttribute("data-show", "0");
    });
  }

  function hintField(el, errEl){
    if (!el) return;
    el.style.outline = "2px solid rgba(255,80,80,.6)";
    el.style.outlineOffset = "2px";
    el.setAttribute("data-proofy-hint", "1");
    el.setAttribute("aria-invalid", "true");
    if (errEl) errEl.setAttribute("data-show", "1");
  }

  function isValidEmail(v){
    const s = String(v || "").trim();
    return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s);
  }

  function validate(){
    clearFieldHints();

    const name = String(fields.name?.value || "").trim();
    const email = String(fields.email?.value || "").trim();
    const company = String(fields.company?.value || "").trim();
    const message = String(fields.message?.value || "").trim();

    let firstBad = null;

    if (!name){
      hintField(fields.name, errors.name);
      firstBad = firstBad || fields.name;
    }
    if (!email || !isValidEmail(email)){
      hintField(fields.email, errors.email);
      firstBad = firstBad || fields.email;
    }
    if (!company){
      hintField(fields.company, errors.company);
      firstBad = firstBad || fields.company;
    }
    if (!message){
      hintField(fields.message, errors.message);
      firstBad = firstBad || fields.message;
    }

    return { ok: !firstBad, firstBad };
  }

  async function initAntiSpamToken(){
    const t = document.getElementById("proofy_token");
    const ts = document.getElementById("proofy_ts");
    try {
      const res = await fetch("/api/form-token", { credentials: "same-origin", cache: "no-store" });
      const data = await res.json().catch(() => ({}));
      if (res.ok && data && data.ok === true && data.token) {
        if (t) t.value = String(data.token);
        if (ts) ts.value = String(Date.now());
        return true;
      }
    } catch {}
    return false;
  }

  initAntiSpamToken().then(ok => {
    if (!ok) setStatus("Kunde inte initiera formul√§rs√§kerhet. Ladda om sidan och f√∂rs√∂k igen.", "err");
  });

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    const v = validate();
    if (!v.ok){
      v.firstBad?.focus();
      setStatus("Kontrollera att obligatoriska f√§lt √§r korrekt ifyllda.", "err");
      return;
    }

    // Honeypots
    const hpNewEl = form.querySelector("input[name='company_website']");
    const hpOldEl = form.querySelector("input[name='bot-field']");
    if (hpNewEl) hpNewEl.value = "";
    if (hpOldEl) hpOldEl.value = "";

    const tokenEl = document.getElementById("proofy_token");
    if (!tokenEl || !String(tokenEl.value || "").trim()) {
      const ok = await initAntiSpamToken();
      if (!ok || !tokenEl || !String(tokenEl.value || "").trim()) {
        setStatus("Kunde inte initiera formul√§rs√§kerhet. Ladda om sidan och f√∂rs√∂k igen.", "err");
        return;
      }
    }

    try{
      disableForm(true);
      setStatus("Skickar‚Ä¶", "wait");

      const fd = new FormData(form);
      const body = new URLSearchParams();
      for (const [k, v] of fd.entries()) body.append(k, String(v));

      const res = await fetch(form.action, {
        method: "POST",
        headers: { "content-type": "application/x-www-form-urlencoded;charset=UTF-8" },
        body: body.toString(),
        credentials: "same-origin"
      });

      const data = await res.json().catch(() => ({}));

      if (!res.ok || data.ok !== true || data.sent !== true){
        if (data.ignored === true){
          setStatus("F√∂rfr√•gan kunde inte skickas. F√∂rs√∂k igen eller mejla kontakt@proofy.se.", "err");
          disableForm(false);
          return;
        }
        const msg = data.error || `Kunde inte skickas (HTTP ${res.status}). F√∂rs√∂k igen eller mejla kontakt@proofy.se.`;
        setStatus(msg, "err");
        disableForm(false);
        return;
      }

      setStatus("Skickat ‚úÖ Vi √•terkommer inom 1 arbetsdag.", "ok");
      form.reset();
      setTimeout(() => { window.location.href = "/thanks.html?sent=1"; }, 700);

    } catch {
      setStatus("Kunde inte skickas. F√∂rs√∂k igen eller mejla kontakt@proofy.se.", "err");
      disableForm(false);
    }
  });

  // Mild live-validering
  ["blur", "input"].forEach(evt => {
    Object.values(fields).forEach(el => {
      if (!el) return;
      el.addEventListener(evt, () => {
        const wasInvalid = el.getAttribute("aria-invalid") === "true";
        if (!wasInvalid && evt === "input") return;
        validate();
      });
    });
  });
})();
</script>

<script src="/assets/header-toggle.js?v=2026-01-03a" defer></script>
<script src="/chat-widget.js?v=2026-01-03a" defer></script>
</body>
</html>
